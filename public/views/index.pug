script(src="/socket.io/socket.io.js")
script(src="/bower_components/angular/angular.js")
script(src="/bower_components/angular-socket-io/socket.js")
script(src="/scripts/lib/app.js")
script(src="/scripts/lib/visitor.js")

.main(ng-app="chat" ng-controller="visitorCtrl")
  .namefield
    label What is your name?
      input(type="text" ng-model="name").name
  .chat
    .queue(ng-show="queue")
      span You are number 
      span.number {{queue}} 
      span in the queue!
    .chatbox(ng-show="!queue")
      .history
        div(ng-repeat="chat in history")
          span.sender {{chat.from}}: 
          span.message {{chat.message}}
      form(ng-submit="submitNewmessage()")
        input(ng-model="newMessage")
      