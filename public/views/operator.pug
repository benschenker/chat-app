script(src="/socket.io/socket.io.js")
script(src="/bower_components/angular/angular.js")
script(src="/bower_components/angular-socket-io/socket.js")
script(src="/scripts/lib/app.js")
script(src="/scripts/lib/operator.js")
link(rel="stylesheet" href="/stylesheets/operator.css")

.main(ng-app="chat" ng-controller="operatorCtrl")
  .namefield
    label What is your name?
      input(type="text" ng-model="name").name
  .chat
    span Queue
    .queue.list
      div(ng-repeat="user in queue") {{user}}
    .chatbox(ng-show="chatting")
      span History
      #history.list
        div(ng-repeat="chat in history")
          span.sender {{chat.name}}: 
          span.message {{chat.message}}
      form(ng-submit="submitNewMessage()")
        input(ng-model="newMessage")
      